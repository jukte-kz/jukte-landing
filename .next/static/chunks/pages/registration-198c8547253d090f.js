(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{4508:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/registration",function(){return a(5256)}])},121:function(e,s,a){"use strict";a.d(s,{Z:function(){return i}});var r=a(5893),l=a(5675),t=a.n(l),n=a(1163);function i(e){var s=e.removeUrl,a=e.text,l=(0,n.useRouter)(),i=function(){l.push(s)};return(0,r.jsxs)("div",{className:"flex items-center justify-between header-main w-full border-b-2 px-4 py-2",children:[(0,r.jsxs)("button",{onClick:i,className:"flex items-center",children:[(0,r.jsx)(t(),{width:24,height:24,src:"/assets/icon/left-arrow.svg",alt:""}),(0,r.jsx)("p",{className:"ml-4",children:a})]}),(0,r.jsx)(t(),{width:80,height:40,src:"/assets/image/logo.svg"})]})}},5256:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var r=a(6042),l=a(9396),t=a(5893),n=a(121),i=a(9395),c=a(6627),$=a.n(c),d=a(5675),o=a.n(d),u=a(7294),h=a(9669),m=a.n(h),x=a(129),g=a.n(x),p=a(1163),b=a(1751),f=a(3424),j=a(1955);function v(){var e=(0,u.useState)(""),s=e[0],a=e[1],c=(0,u.useState)(String),d=c[0],h=c[1],x=(0,u.useState)(""),v=x[0],_=x[1],k=(0,u.useState)(""),N=k[0],y=k[1],w=(0,u.useState)(""),C=w[0],S=w[1],F=(0,u.useState)(""),Z=F[0],z=F[1],q=(0,u.useState)(""),E=q[0],T=q[1],P=(0,u.useState)(""),B=P[0],O=P[1],R=(0,u.useState)(!1);R[0],R[1];var U=(0,u.useState)(!1),X=U[0],A=U[1],H=(0,u.useState)(""),I=H[0],J=H[1],M=(0,u.useState)(!1),W=M[0],D=M[1],G=(0,u.useState)(!1),K=G[0],L=G[1],Q=(0,u.useState)(!1),V=Q[0],Y=Q[1],ee=(0,u.useState)(!1),es=ee[0],ea=ee[1],er=(0,u.useState)(!1),el=er[0],et=er[1],en=(0,p.useRouter)(),ei=(0,u.useCallback)(function(e){a(e.target.value)},[]),ec=(0,u.useCallback)(function(e){h(e.target.value)},[]),e$=(0,u.useCallback)(function(e){_(e.target.value)},[]),ed=(0,u.useCallback)(function(e){y(e.target.value)},[]),eo=(0,u.useCallback)(function(e){S(e.target.value)},[]),eu=(0,u.useCallback)(function(e){z(e.target.value)},[]),eh=function(e){T(e.label)},em=function(e){O(e.target.value)},ex=function(){Y(!1),en.push("/login")},eg=function(){m()({method:"post",url:"https://api.jukte.kz/auth/register",data:g().stringify({phone:s.replace(/(-)|\+|\(|\)/g,""),password:Z,transportWeight:"20",transportType:E,role:B,name:N,surname:C,iin:v})}).then(function(e){e.data&&(Y(!0),j.Z.set("transportType",E)),A(!1)}).catch(function(e){e.response.data.message.includes("E11000")&&(A(!0),J("Такой пользователь уже зарегестрирован")),"can't to deliver"===e.response.data.message&&et(!0)})},ep=function(){m()({method:"put",url:"https://api.jukte.kz/auth/register/verify",data:g().stringify({code:d,phone:s.replace(/(-)|\+|\(|\)/g,"")}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then(function(e){e.data&&ea(!0)}).catch(function(e){console.log(e)})};return(0,u.useEffect)(function(){D(18===s.length&&N.length>0&&C.length>0&&v.length>0&&6===Z.length&&B.length>0),L(6===d.length)}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Z,{removeUrl:"/"}),(0,t.jsxs)("div",{className:"registration-main",children:[(0,t.jsx)("h1",{children:"Регистрация пользователя"}),(0,t.jsxs)("p",{className:"mt-2 mb-6",children:["Введите данные для регистрации в ",(0,t.jsx)("span",{children:"Jukte.kz"})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 rounded flex items-center bg-[#4F52FF]",children:[(0,t.jsx)("img",{src:"/assets/icon/warning.svg",alt:""}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"ml-4 text-warning",children:["Внимание! ИИН вводятся один раз! Просим вас вводить данные ",(0,t.jsx)("b",{children:"корректно"}),"."]})})]}),(0,t.jsx)("div",{className:"py-2 mt-2 mb-4 rounded bg-blue-50",children:(0,t.jsx)("div",{className:"flex gap-2 radio-button-container",children:(0,t.jsxs)("div",{className:"w-full flex items-center px-4",children:[(0,t.jsx)("input",{id:"default-checkbox",type:"checkbox",value:"",className:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,t.jsx)("label",{htmlFor:"bordered-radio-0",className:"py-4 ml-4 w-full text-md font-medium dark:text-gray-300",children:"Я даю свое согласие на обработку личных данных"})]})})}),(0,t.jsxs)("div",{className:"py-2 mt-2 mb-4 rounded bg-blue-50",children:[(0,t.jsx)("div",{className:"block px-4",children:(0,t.jsx)(i.__,{htmlFor:"role",value:"Выберите свою деятельность"})}),(0,t.jsxs)("div",{className:"flex gap-2 radio-button-container",children:[(0,t.jsxs)("div",{className:"w-1/2 flex items-center pl-4",children:[(0,t.jsx)("input",{onChange:em,id:"bordered-radio-1",type:"radio",value:"logistician",name:"bordered-radio",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,t.jsx)("label",{htmlFor:"bordered-radio-1",className:"py-4 ml-2 w-full text-md font-medium dark:text-gray-300",children:"Грузоотправитель"})]}),(0,t.jsxs)("div",{className:"w-1/2 flex items-center pl-4",children:[(0,t.jsx)("input",{onChange:em,id:"bordered-radio-2",type:"radio",value:"driver",name:"bordered-radio",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,t.jsx)("label",{htmlFor:"bordered-radio-2",className:"py-4 ml-2 w-full text-md font-medium dark:text-gray-300",children:"Грузоперевозчик"})]})]})]}),(0,t.jsxs)("form",{className:"flex flex-col registration-form",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"input-container",children:[(0,t.jsx)("div",{className:"mb-2 block",children:(0,t.jsx)(i.__,{htmlFor:"name",value:"Введите свое имя"})}),(0,t.jsx)(i.oi,{id:"name",type:"text",placeholder:"Имя",required:!0,sizing:"lg",value:N,onChange:ed})]}),(0,t.jsxs)("div",{className:"input-container",children:[(0,t.jsx)("div",{className:"mb-2 block",children:(0,t.jsx)(i.__,{htmlFor:"surname",value:"Введите свою фамилию"})}),(0,t.jsx)(i.oi,{id:"surname",type:"text",placeholder:"Фамилия",required:!0,sizing:"lg",value:C,onChange:eo})]}),(0,t.jsxs)("div",{className:"input-container",children:[(0,t.jsx)("div",{className:"mb-2 block",children:(0,t.jsx)(i.__,{htmlFor:"iin",value:"Введите ИИН (для нерезидентов Казахстана номер документа)"})}),(0,t.jsx)(i.oi,{onChange:e$,value:v,id:"iin",type:"tel",placeholder:"",required:!0,sizing:"lg"})]}),(0,t.jsxs)("div",{className:"input-container",children:[(0,t.jsx)("div",{className:"mb-2 block",children:(0,t.jsx)(i.__,{htmlFor:"phone",value:"Введите номер телефона"})}),(0,t.jsx)($(),{value:s,maskChar:null,onChange:ei,mask:"+7-(999)-999-99-99",children:function(e){return(0,t.jsx)(i.oi,(0,l.Z)((0,r.Z)({},e),{id:"phone",type:"tel",placeholder:"+7-777-777-77-77",required:!0,sizing:"lg"}))}})]}),(0,t.jsxs)("div",{className:"input-container",children:[(0,t.jsx)("div",{className:"mb-2 block",children:(0,t.jsx)(i.__,{htmlFor:"password",value:"Придумайте 6-значный пин-код"})}),(0,t.jsx)($(),{value:Z,maskChar:null,onChange:eu,mask:"999999",children:function(e){return(0,t.jsx)(i.oi,(0,l.Z)((0,r.Z)({},e),{id:"password",type:"password",placeholder:"Пароль",required:!0,sizing:"lg"}))}})]}),"driver"===B&&(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"input-container",children:[(0,t.jsx)("div",{className:"block",children:(0,t.jsx)(i.__,{htmlFor:"transport",value:"Выберите тип транспорта"})}),(0,t.jsx)(f.ZP,{className:"react-select block w-full border focus\\:ring-blue-500:focus disabled:cursor-not-allowed disabled:opacity-50 bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 rounded-lg sm:text-md p-2",classNamePrefix:"name",placeholder:"Выберите тип транспорта",options:b.t,onChange:eh,isSearchable:!1})]})}),X&&(0,t.jsxs)("h2",{className:"flex items-center gap-2",children:[(0,t.jsx)(o(),{width:24,height:25,src:"/assets/icon/attention.svg",alt:"errorIcon"}),I]})]}),(0,t.jsx)("button",{type:"button",disabled:!W,onClick:eg,className:"flex items-center",children:(0,t.jsx)("p",{className:"w-full",children:"Зарегестрироваться"})})]})]}),(0,t.jsxs)(i.u_,{show:el,position:"center",children:[(0,t.jsx)(i.u_.Header,{onClick:function(){et(!1)},children:"Ошибка шлюза"}),(0,t.jsx)(i.u_.Body,{children:(0,t.jsxs)("p",{className:"text-center",children:["К сожалению на данный момент мы не можем обслужить абонентов Tele2/Altel. Для регистраций можете написать в техническую поддержку ",(0,t.jsx)("a",{href:"https://telegram.me/jukte/",className:"text-[#4f52ff]",children:"ПО ССЫЛКЕ"})," !"]})})]}),(0,t.jsxs)(i.u_,{show:V,position:"center",children:[(0,t.jsx)(i.u_.Body,{children:es?(0,t.jsxs)("div",{className:"w-full success-container",children:[(0,t.jsx)("p",{className:"text-center",children:"Регистрация прошла успешно!"}),(0,t.jsx)("div",{className:"success-animation mt-6",children:(0,t.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[(0,t.jsx)("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),(0,t.jsx)("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})})]}):(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("p",{className:"text-base leading-relaxed",children:["На номер ",(0,t.jsx)("span",{className:"violet-text",children:s})," выслан ",(0,t.jsx)("br",{})," 6-значный код, введите его для завершения регистрации."]}),(0,t.jsx)("div",{className:"input-container mt-6",children:(0,t.jsx)($(),{value:d,maskChar:null,onChange:ec,mask:"999999",children:function(e){return(0,t.jsx)(i.oi,(0,l.Z)((0,r.Z)({},e),{id:"otp",type:"text",placeholder:"Введите код",required:!0,sizing:"lg"}))}})})]})}),(0,t.jsx)(i.u_.Footer,{children:es?(0,t.jsx)("button",{className:"w-full redirect-button",onClick:ex,children:"Завершить регистрацию"}):(0,t.jsx)("button",{className:"w-full redirect-button",disabled:!K,onClick:ep,children:"Подтвердить"})})]})]})}},1751:function(e,s,a){"use strict";a.d(s,{t:function(){return r}});var r=[{value:1,label:"Рефрижератор",price:500},{value:2,label:"Самосвал",price:27},{value:3,label:"Тралл",price:1e3},{value:4,label:"Изотерм",price:400},{value:5,label:"Бортовой",price:400},{value:6,label:"Крытый",price:400},{value:7,label:"Открытый",price:400},{value:8,label:"Тент",price:400},{value:9,label:"Зерновоз",price:35},{value:10,label:"Газель",price:180},{value:11,label:"Мега 105",price:400}]},4654:function(){}},function(e){e.O(0,[556,873,656,129,646,774,888,179],function(){return e(e.s=4508)}),_N_E=e.O()}]);
//# sourceMappingURL=registration-198c8547253d090f.js.map