(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{5732:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return t(5203)}])},3560:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var i=t(5893);t(381);var r=t(1664),c=t.n(r),n=t(7294);function l(e){var s=e.shipment,t=e.product,r=e.cub,l=e.price,a=e.logPrice,d=e.weight,o=e.date,m=e.type,$=e.from,h=e.to,u=e.distance,x=e.description,j=(e.status,e.phone),p=(e.role,e.id,e.onClick),f=e.detail,g=(0,n.useState)(!1),v=g[0],N=g[1];return(0,i.jsxs)("div",{className:"rounded shadow-sm bg-white w-full myCard-container p-4",children:[(0,i.jsx)("div",{className:"pb-2 mb-4 border-b-2 flex items-start justify-between",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/product.svg",alt:""}),(0,i.jsx)("h2",{className:"mb-2",children:t})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/distance.svg",alt:""}),(0,i.jsxs)("p",{className:"font-bold",children:[$," - ",h]})]})]})}),v&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/tenge.svg",alt:""}),(0,i.jsxs)("h1",{children:["Цена: ",l," ₸ ",(0,i.jsx)("br",{})," Услуги логиста: ",a," ₸"]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/weight.svg",alt:""}),(0,i.jsxs)("p",{children:[d," тонн ",r&&"/ "+r+" м3"]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/date.svg",alt:""}),(0,i.jsx)("p",{children:o})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/truck.svg",alt:""}),(0,i.jsx)("p",{children:m})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/Measure.svg",alt:""}),(0,i.jsxs)("p",{children:[u," км"]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/time.svg",alt:""}),(0,i.jsx)("p",{children:x})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{className:"mr-2",src:"/assets/icon/carShipment.svg",alt:""}),(0,i.jsx)("p",{children:s})]}),(0,i.jsxs)("div",{className:"items-center",children:[(0,i.jsx)("p",{className:"font-bold",children:"Детали перевозки:"}),(0,i.jsx)("p",{children:f})]})]}),(0,i.jsx)("div",{className:"mt-4 w-full flex justify-center link-button rounded",onClick:p,children:(0,i.jsx)(c(),{href:"tel:+"+j,children:"Позвонить заказчику"})})]}),(0,i.jsx)("button",{onClick:function(){N(!v)},className:"mt-2 w-full bg-blue-400 text-white rounded p-1",children:v?"Закрыть":"Подробнее"})]})}},5203:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var i=t(5893),r=t(121),c=t(7294),n=t(9669),l=t.n(n),a=t(1955),d=t(9395),o=t(1163),m=t(1664),$=t.n(m),h=t(5675),u=t.n(h);function x(e){var s=e.removeUrl,t=e.image,r=e.title;return(0,i.jsx)($(),{href:s,children:(0,i.jsxs)("div",{className:"p-4 rounded-b mt-0.5 link-block flex justify-between",children:[(0,i.jsx)("p",{children:r}),(0,i.jsx)(u(),{width:24,height:24,src:t})]})})}var j=t(891),p=t(3560),f=t(4028),g=t(129),v=t.n(g);function N(){var e=(0,c.useState)(!1),s=e[0],t=e[1],n=(0,c.useState)(!1),m=n[0],h=n[1],u=(0,c.useState)(!1),g=u[0],N=u[1],w=(0,c.useState)(!1),b=w[0],y=w[1],_=(0,c.useState)(),k=_[0],P=_[1],Z=(0,c.useState)(),O=Z[0],S=Z[1],C=(0,c.useState)(Array),U=C[0],T=C[1],E=(0,c.useState)(Array),z=E[0],q=E[1],B=(0,c.useState)(!1),F=B[0],R=B[1],X=(0,c.useState)(""),D=X[0],M=X[1],A=(0,c.useState)(""),G=A[0],H=A[1],I=(0,o.useRouter)(),J=function(){R(!F)},K=function(e){l()({method:"put",url:"https://api.jukte.kz/orders/match/".concat(e),data:v().stringify({}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",token:a.Z.get("accessToken")}}).then(function(e){200===e.status&&window.location.reload(!1)})},L=function(){I.push("/settings")};return(0,c.useEffect)(function(){m||l()({method:"get",url:"https://api.jukte.kz/user/info",headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",token:a.Z.get("accessToken")}}).then(function(e){S(e.data),h(!0),P(!0),a.Z.set("role",e.data.role),"{}"===JSON.stringify(e.data.company.director)&&t(!0)}).catch(function(e){e&&h(!0),"User has not access"===e.response.data.message&&a.Z.set("userSuccess",s)})}),(0,c.useEffect)(function(){g||l()({method:"get",url:"https://api.jukte.kz/orders/archive",headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",token:a.Z.get("accessToken")}}).then(function(e){e.data.data.orders.length&&T(e.data.data.orders),N(!0)}),s?H("не верифицирован"):H("верифицирован")}),(0,c.useEffect)(function(){b||l()({method:"get",url:"https://api.jukte.kz/orders",headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",token:a.Z.get("accessToken")}}).then(function(e){e.data.data.orders.length&&q(e.data.data.orders),y(!0)})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{removeUrl:"/login",text:"Выйти"}),k?(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"flex mb-3 justify-between items-center",children:(0,i.jsx)("h1",{className:"font-bold text-lg",children:"Акций"})}),(0,i.jsx)("div",{className:"w-full",children:(0,i.jsx)("h4",{children:"Акций временно отсутсвуют"})})]}),(0,i.jsx)("div",{className:"flex mb-6 justify-between items-center",children:(0,i.jsx)("h1",{className:"font-bold text-lg",children:"Личный кабинет"})}),(0,i.jsxs)("div",{className:"w-full info-title-container",children:[O&&(0,i.jsx)("h2",{children:O.surname+" "+O.name}),G&&(0,i.jsxs)("p",{className:"mb-1",children:["Статус: ",G]}),O&&("driver"===O.role?(0,i.jsx)("p",{children:"Перевозчик"}):(0,i.jsx)("p",{children:"Отправитель"})),(0,i.jsx)("div",{className:"elip1"}),(0,i.jsx)("div",{className:"elip2"})]}),(0,i.jsx)(x,{removeUrl:"/myOrders",title:"Мои заявки",image:"/assets/icon/myOrders.svg"}),"logistician"===O.role&&(0,i.jsx)(x,{removeUrl:"/createOrders",title:"Создать заявку",image:"/assets/icon/createOrders.svg"}),"logistician"===O.role&&(0,i.jsx)(x,{removeUrl:"/driverOrders",title:"Открытые машины",image:"/assets/icon/openCar.svg"}),"driver"===O.role&&(0,i.jsx)(x,{removeUrl:"/openOrders",title:"Открытые заявки",image:"/assets/icon/createOrders.svg"}),"driver"===O.role&&(0,i.jsx)(x,{removeUrl:"/createDriverOrders",image:"/assets/icon/createOrders.svg",title:"Создать заявку открытой машины"}),(0,i.jsx)(x,{removeUrl:"/settings",title:"Настройки",image:"/assets/icon/settings.svg"}),(0,i.jsx)(x,{removeUrl:"/faq",title:"Вопросы и ответы",image:"/assets/icon/faq.svg"}),(0,i.jsx)(x,{removeUrl:"https://telegram.me/jukte/",title:"Техническая поддержка",image:"/assets/icon/tech.svg"}),(0,i.jsxs)("div",{className:"my-orders-container py-8",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,i.jsx)("h2",{children:"Мои заявки"}),(0,i.jsx)($(),{href:"/myOrders",children:"Посмотреть все"})]}),(0,i.jsx)("div",{className:"flex justify-end mt-2",children:(0,i.jsx)("div",{className:"inline-flex shrink-0 items-center justify-center rounded bg-blue-50",children:(0,i.jsxs)("p",{className:"p-2",children:["Количество: ",U.length]})})}),U.length>0?(0,i.jsx)("div",{className:"flex flex-col gap-2 mt-4 bg-gray-400 p-4",children:U.slice(0,1).map(function(e,s){return"logistician"===e.ownerRole?(0,i.jsx)(j.Z,{shipment:e.loadType,cub:e.cubProduct,logPrice:e.logPrice,product:e.product,price:e.price,weight:e.weight,date:e.date,type:e.type,from:e.from,to:e.to,distance:e.distance,detail:e.detail,description:e.description,status:e.status,role:O.role,phone:e.ownerPhone,id:e._id},s):(0,i.jsx)(f.Z,{shipment:e.loadType,cub:e.cubProduct,logPrice:e.logPrice,price:e.price,weight:e.weight,date:e.date,type:e.type,from:e.from,to:e.to,distance:e.distance,description:e.description,status:e.status,role:O.role,phone:e.ownerPhone,id:e._id,product:e.product},s)})}):(0,i.jsx)("p",{className:"mt-4",children:"На данный момент у вас нету заявок"})]}),"driver"===O.role&&(0,i.jsxs)("div",{className:"my-orders-container py-8",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,i.jsx)("h2",{children:"Открытые заявки"}),(0,i.jsx)($(),{href:"/openOrders",children:"Посмотреть все"})]}),(0,i.jsx)("div",{className:"flex justify-end mt-2",children:(0,i.jsx)("div",{className:"inline-flex shrink-0 items-center justify-center rounded bg-blue-50",children:(0,i.jsxs)("p",{className:"p-2",children:["Количество: ",z.length]})})}),z.length>0?(0,i.jsx)("div",{className:"flex flex-col gap-2 mt-4 bg-gray-400 p-4",children:z.slice(0,1).map(function(e,s){return(0,i.jsx)(p.Z,{onClick:function(){M(e._id),J()},shipment:e.loadType,cub:e.cubProduct,logPrice:e.logPrice,product:e.product,price:e.price,weight:e.weight,date:e.date,type:e.type,from:e.from,to:e.to,distance:e.distance,detail:e.detail,description:e.description,status:e.status,role:O.role,phone:e.ownerPhone,id:e._id},s)})}):(0,i.jsx)("p",{className:"mt-4",children:"На данный момент свободных заявок нет"})]}),"logistician"===O.role&&(0,i.jsxs)("div",{className:"my-orders-container py-8",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,i.jsx)("h2",{children:"Открытые машины"}),(0,i.jsx)($(),{href:"/driverOrders",children:"Посмотреть все"})]}),(0,i.jsx)("div",{className:"flex justify-end mt-2",children:(0,i.jsx)("div",{className:"inline-flex shrink-0 items-center justify-center rounded bg-blue-50",children:(0,i.jsxs)("p",{className:"p-2",children:["Количество: ",z.length]})})}),z.length>0?(0,i.jsx)("div",{className:"flex flex-col gap-2 mt-4 bg-gray-400 p-4",children:z.slice(0,1).map(function(e,s){return(0,i.jsx)(f.Z,{onClick:function(){M(e._id),J()},shipment:e.loadType,cub:e.cubProduct,logPrice:e.logPrice,price:e.price,weight:e.weight,date:e.date,type:e.type,from:e.from,to:e.to,distance:e.distance,description:e.description,status:e.status,role:a.Z.get("role"),phone:e.ownerPhone,product:e.product,detail:e.detail},s)})}):(0,i.jsx)("p",{className:"mt-4",children:"На данный момент свободных заявок нет"})]})]}):(0,i.jsx)("div",{className:"w-full h-[calc(100vh-5rem)] flex items-center justify-center",children:(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)(d.$j,{"aria-label":"Center-aligned spinner example"})})}),(0,i.jsxs)(d.u_,{show:F,style:{width:"100%"},id:"modal-width",position:"center",children:[(0,i.jsx)(d.u_.Body,{style:{width:"100%"},children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(r.Z,{removeUrl:"/home"}),(0,i.jsx)("p",{className:"text-base leading-relaxed",children:"Вы договорились по поводу заявки ?"})]})}),(0,i.jsx)(d.u_.Footer,{children:(0,i.jsxs)("div",{className:"flex justify-between items-center w-full gap-4",children:[(0,i.jsx)("button",{className:"w-full redirect-button",onClick:function(){D&&K(D),J()},children:"Да"}),(0,i.jsx)("button",{className:"w-full redirect-button",onClick:J,children:"Нет"})]})})]}),(0,i.jsxs)(d.u_,{show:s,children:[(0,i.jsx)(d.u_.Body,{children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(r.Z,{removeUrl:"/login"}),(0,i.jsx)("p",{className:"text-base leading-relaxed",children:"Данный текст оповещает вас о том что, после регистраций вы не прошли верифкацию. Для того что бы пользоваться нашим сервисом просим вас пройти верификацию."})]})}),(0,i.jsx)(d.u_.Footer,{children:(0,i.jsx)("button",{className:"w-full redirect-button",onClick:L,children:"Пройти верификацию"})})]})]})}},4654:function(){}},function(e){e.O(0,[556,885,873,656,129,75,774,888,179],function(){return e(e.s=5732)}),_N_E=e.O()}]);
//# sourceMappingURL=home-4e244921aca9585c.js.map