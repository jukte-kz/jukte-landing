(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{7574:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/openOrders",function(){return s(690)}])},121:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var n=s(5893),a=s(5675),r=s.n(a),l=s(1163);function c(e){var t=e.removeUrl,s=e.text,a=(0,l.useRouter)(),c=function(){a.push(t)};return(0,n.jsxs)("div",{className:"flex items-center justify-between header-main w-full border-b-2 px-4 py-2",children:[(0,n.jsxs)("button",{onClick:c,className:"flex items-center",children:[(0,n.jsx)(r(),{width:24,height:24,src:"/assets/icon/left-arrow.svg",alt:""}),(0,n.jsx)("p",{className:"ml-4",children:s})]}),(0,n.jsx)(r(),{width:80,height:40,src:"/assets/image/logo.svg"})]})}},3560:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var n=s(5893);s(381);var a=s(1664),r=s.n(a),l=s(7294);function c(e){var t=e.shipment,s=e.product,a=e.cub,c=e.price,i=e.logPrice,o=e.weight,u=e.date,d=e.type,f=e.from,$=e.to,h=e.distance,p=e.description,m=(e.status,e.phone),x=(e.role,e.id,e.onClick),v=e.detail,j=(0,l.useState)(!1),g=j[0],y=j[1];return(0,n.jsxs)("div",{className:"rounded shadow-sm bg-white w-full myCard-container p-4",children:[(0,n.jsx)("div",{className:"pb-2 mb-4 border-b-2 flex items-start justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/product.svg",alt:""}),(0,n.jsx)("h2",{className:"mb-2",children:s})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/distance.svg",alt:""}),(0,n.jsxs)("p",{className:"font-bold",children:[f," - ",$]})]})]})}),g&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/tenge.svg",alt:""}),(0,n.jsxs)("h1",{children:["Цена: ",c," ₸ ",(0,n.jsx)("br",{})," Услуги логиста: ",i," ₸"]})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/weight.svg",alt:""}),(0,n.jsxs)("p",{children:[o," тонн ",a&&"/ "+a+" м3"]})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/date.svg",alt:""}),(0,n.jsx)("p",{children:u})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/truck.svg",alt:""}),(0,n.jsx)("p",{children:d})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/Measure.svg",alt:""}),(0,n.jsxs)("p",{children:[h," км"]})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/time.svg",alt:""}),(0,n.jsx)("p",{children:p})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{className:"mr-2",src:"/assets/icon/carShipment.svg",alt:""}),(0,n.jsx)("p",{children:t})]}),(0,n.jsxs)("div",{className:"items-center",children:[(0,n.jsx)("p",{className:"font-bold",children:"Детали перевозки:"}),(0,n.jsx)("p",{children:v})]})]}),(0,n.jsx)("div",{className:"mt-4 w-full flex justify-center link-button rounded",onClick:x,children:(0,n.jsx)(r(),{href:"tel:+"+m,children:"Позвонить заказчику"})})]}),(0,n.jsx)("button",{onClick:function(){y(!g)},className:"mt-2 w-full bg-blue-400 text-white rounded p-1",children:g?"Закрыть":"Подробнее"})]})}},1210:function(e,t){"use strict";function s(e,t,s,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=s,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8418:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(4941).Z;s(5753).default,Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(2648).Z,r=s(7273).Z,l=a(s(7294)),c=s(6273),i=s(2725),o=s(3462),u=s(1018),d=s(7190),f=s(1210),$=s(8684),h=void 0!==l.default.useTransition,p={};function m(e,t,s,n){if(e&&c.isLocalURL(t)){Promise.resolve(e.prefetch(t,s,n)).catch(function(e){});var a=n&&void 0!==n.locale?n.locale:e&&e.locale;p[t+"%"+s+(a?"%"+a:"")]=!0}}var x=l.default.forwardRef(function(e,t){var s,a,x=e.href,v=e.as,j=e.children,g=e.prefetch,y=e.passHref,N=e.replace,_=e.shallow,b=e.scroll,w=e.locale,C=e.onClick,k=e.onMouseEnter,L=e.onTouchStart,P=e.legacyBehavior,R=void 0===P?!0!==Boolean(!1):P,E=r(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);s=j,R&&("string"==typeof s||"number"==typeof s)&&(s=l.default.createElement("a",null,s));var M=!1!==g,T=n(h?l.default.useTransition():[],2)[1],S=l.default.useContext(o.RouterContext),Z=l.default.useContext(u.AppRouterContext);Z&&(S=Z);var U=l.default.useMemo(function(){var e=n(c.resolveHref(S,x,!0),2),t=e[0],s=e[1];return{href:t,as:v?c.resolveHref(S,v):s||t}},[S,x,v]),O=U.href,A=U.as,B=l.default.useRef(O),D=l.default.useRef(A);R&&(a=l.default.Children.only(s));var H=R?a&&"object"==typeof a&&a.ref:t,K=n(d.useIntersection({rootMargin:"200px"}),3),z=K[0],G=K[1],I=K[2],X=l.default.useCallback(function(e){(D.current!==A||B.current!==O)&&(I(),D.current=A,B.current=O),z(e),H&&("function"==typeof H?H(e):"object"==typeof H&&(H.current=e))},[A,H,O,I,z]);l.default.useEffect(function(){var e=G&&M&&c.isLocalURL(O),t=void 0!==w?w:S&&S.locale,s=p[O+"%"+A+(t?"%"+t:"")];e&&!s&&m(S,O,A,{locale:t})},[A,O,G,w,M,S]);var F={ref:X,onClick:function(e){R||"function"!=typeof C||C(e),R&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(e),e.defaultPrevented||function(e,t,s,n,a,r,l,i,o,u){if("A"!==e.currentTarget.nodeName.toUpperCase()||(!(f=(d=e).currentTarget.target)||"_self"===f)&&!d.metaKey&&!d.ctrlKey&&!d.shiftKey&&!d.altKey&&(!d.nativeEvent||2!==d.nativeEvent.which)&&c.isLocalURL(s)){e.preventDefault();var d,f,$=function(){"beforePopState"in t?t[a?"replace":"push"](s,n,{shallow:r,locale:i,scroll:l}):t[a?"replace":"push"](s,{forceOptimisticNavigation:!u})};o?o($):$()}}(e,S,O,A,N,_,b,w,Z?T:void 0,M)},onMouseEnter:function(e){R||"function"!=typeof k||k(e),R&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),!(!M&&Z)&&c.isLocalURL(O)&&m(S,O,A,{priority:!0})},onTouchStart:function(e){R||"function"!=typeof L||L(e),R&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),!(!M&&Z)&&c.isLocalURL(O)&&m(S,O,A,{priority:!0})}};if(!R||y||"a"===a.type&&!("href"in a.props)){var q=void 0!==w?w:S&&S.locale,J=S&&S.isLocaleDomain&&f.getDomainLocale(A,q,S.locales,S.domainLocales);F.href=J||$.addBasePath(i.addLocale(A,q,S&&S.defaultLocale))}return R?l.default.cloneElement(a,F):l.default.createElement("a",Object.assign({},E,F),s)});t.default=x,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1018:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var n=(0,s(2648).Z)(s(7294)),a=n.default.createContext(null);t.AppRouterContext=a;var r=n.default.createContext(null);t.LayoutRouterContext=r;var l=n.default.createContext(null);t.GlobalLayoutRouterContext=l},690:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var n=s(5893),a=s(121),r=s(7294),l=s(9669),c=s.n(l),i=s(1955),o=s(9395),u=s(3560),d=s(129),f=s.n(d);function $(){var e=(0,r.useState)(Array),t=e[0],s=e[1],l=(0,r.useState)(!1),d=l[0],$=l[1],h=(0,r.useState)(!0),p=h[0],m=h[1],x=(0,r.useState)(!1),v=x[0],j=x[1],g=(0,r.useState)(""),y=g[0],N=g[1],_=function(){j(!v)};(0,r.useEffect)(function(){d||c()({method:"get",url:"https://api.jukte.kz/orders/",headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",token:i.Z.get("accessToken")}}).then(function(e){e.data.data.orders.length&&s(e.data.data.orders),m(!1),$(!0)})});var b=function(e){c()({method:"put",url:"https://api.jukte.kz/orders/match/".concat(e),data:f().stringify({}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",token:i.Z.get("accessToken")}}).then(function(e){200===e.status&&window.location.reload(!1)})},w=(0,r.useCallback)(function(){},[]);return(0,n.jsxs)("div",{className:"myOrders-container",children:[(0,n.jsx)(a.Z,{removeUrl:"/home",text:"На главную"}),(0,n.jsxs)("div",{className:"p-4 pb-2",children:[(0,n.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,n.jsx)("h2",{children:"Открыте заявки"}),(0,n.jsx)("div",{className:"inline-flex shrink-0 items-center justify-center rounded bg-blue-50",children:(0,n.jsxs)("p",{className:"p-2",children:["Количество: ",t.length]})})]}),p?(0,n.jsx)("div",{className:"w-full h-[calc(100vh-5rem)] flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(o.$j,{"aria-label":"Center-aligned spinner example"})})}):(0,n.jsx)("div",{children:t.length>0?(0,n.jsx)("div",{className:"flex flex-col gap-2 mt-4 bg-gray-400 p-4",children:t.slice(0,6).map(function(e,t){return(0,n.jsx)(u.Z,{onClick:function(){N(e._id),_()},shipment:e.loadType,cub:e.cubProduct,logPrice:e.logPrice,product:e.product,price:e.price,weight:e.weight,date:e.date,type:e.type,from:e.from,to:e.to,distance:e.distance,detail:e.detail,description:e.description,status:e.status,phone:e.ownerPhone,id:e._id},t)})}):(0,n.jsx)("p",{className:"mt-4",children:"На данный момент свободных заявок нет"})})]}),t.length>6&&(0,n.jsx)("div",{className:"flex justify-center mb-6",children:(0,n.jsx)(o.tl,{currentPage:1,onPageChange:w,showIcons:!0,totalPages:Math.ceil(t.length/4)})}),(0,n.jsxs)(o.u_,{show:v,id:"modal-width",position:"center",children:[(0,n.jsx)(o.u_.Body,{style:{width:"100%"},children:(0,n.jsxs)("div",{className:"space-y-6",style:{width:"100%"},children:[(0,n.jsx)(a.Z,{removeUrl:"/home"}),(0,n.jsx)("p",{className:"text-base leading-relaxed",children:"Вы договорились по поводу заявки ?"})]})}),(0,n.jsx)(o.u_.Footer,{children:(0,n.jsxs)("div",{className:"flex justify-between items-center w-full gap-4",children:[(0,n.jsx)("button",{className:"w-full redirect-button",onClick:function(){y&&b(y),_()},children:"Да"}),(0,n.jsx)("button",{className:"w-full redirect-button",onClick:_,children:"Нет"})]})})]})]})}},1664:function(e,t,s){e.exports=s(8418)},4654:function(){}},function(e){e.O(0,[556,885,873,656,129,774,888,179],function(){return e(e.s=7574)}),_N_E=e.O()}]);
//# sourceMappingURL=openOrders-a0e267eda7737205.js.map